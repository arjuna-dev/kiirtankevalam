<script>
    $(document).on('click', '.undertab', function (event) {
        event.preventDefault();
        var undertabdata = $(this).data('listtype')
        console.log('undertabdata:', undertabdata)
        $.ajax({
            type: 'GET',
            url: "{% url 'undertab-view' %}",
            data: {
                'listType': undertabdata
            },
            success: function (response) {
                console.log('Hello, ajax successful')
                var responseAsJSON = JSON.parse(response['form'])
                $('#undertabs-div').html(responseAsJSON['undertabs_div'])
                $('#songrenderer-div').html(responseAsJSON['songrenderer_div'])
            },
            error: function (rs, e) {
                console.log('Ajax not successful')
                console.log(rs.responseText)
            }
        })
    })
</script>